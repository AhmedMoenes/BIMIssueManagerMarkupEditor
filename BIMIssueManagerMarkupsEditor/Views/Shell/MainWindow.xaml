<Window x:Class="BIMIssueManagerMarkupsEditor.Views.Shell.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:BIMIssueManagerMarkupsEditor.Views.Shell"
        xmlns:converters="clr-namespace:BIMIssueManagerMarkupsEditor.Converters"
        mc:Ignorable="d"
        Title="BIM ISSUE MANAGER"
        Height="700" Width="1000"
        MinWidth="800" MinHeight="600"
        ResizeMode="CanResize"  WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <converters:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Window.Resources>

    <DockPanel>
        <Border DockPanel.Dock="Top" 
                Background="{DynamicResource PrimaryBrush}" 
                Padding="10">

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                <StackPanel Orientation="Vertical" Margin="0,0,10,0">
                    <TextBlock Text="{Binding UserFullName}" FontWeight="SemiBold" Foreground="White" FontSize="13"/>
                    <TextBlock Text="{Binding UserCompany}" Foreground="White" FontSize="11" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <Image Source="{Binding UserIcon}"  Width="36" Height="36" Margin="0,0,5,0"/>
                </StackPanel>
            </StackPanel>

        </Border>

        <hc:SideMenu DockPanel.Dock="Left"
                     Width="140"
                     Header="BIM Manager"
                     Background="#F9FBFC">

            <hc:SideMenuItem Header="Markup Editor" Command="{Binding NavigateMarkupCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding MarkupIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Profile" Command="{Binding NavigateProfileCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding ProfileIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Projects"
                             Command="{Binding NavigateProjectsCommand}"
                             Visibility="{Binding IsCompanyAdmin, Converter={StaticResource BoolToVisibilityConverter}}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding ProjectsIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Companies" Command="{Binding NavigateCompaniesCommand}"
                             Visibility="{Binding IsCompanyAdmin, Converter={StaticResource BoolToVisibilityConverter}}">>
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding CompanyIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Teams"
                             Command="{Binding NavigateTeamsCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding TeamsIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Issues" 
                             Command="{Binding NavigateIssuesCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding IssuesIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Chat" 
                             Command="{Binding NavigateChatCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding ChatIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>

            <hc:SideMenuItem Header="Viewer" 
                             Command="{Binding NavigateViewerCommand}">
                <hc:SideMenuItem.Icon>
                    <Image Width="36" Height="36" Source="{Binding ViewerIcon}" />
                </hc:SideMenuItem.Icon>
            </hc:SideMenuItem>
        </hc:SideMenu>

        <ContentControl Content="{Binding CurrentView}" Margin="10,1,10,10" />
    </DockPanel>
</Window>
